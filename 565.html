<!DOCTYPE html >
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p565" style="overflow: hidden; position: relative; background-color: white; width: 770px; height: 1001px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_565{left:83px;bottom:916px;letter-spacing:-0.15px;word-spacing:-0.01px;}
#t2_565{left:663px;bottom:914px;letter-spacing:0.12px;}
#t3_565{left:83px;bottom:863px;letter-spacing:0.1px;word-spacing:-1.14px;}
#t4_565{left:323px;bottom:864px;letter-spacing:-0.14px;}
#t5_565{left:427px;bottom:863px;letter-spacing:0.08px;word-spacing:-1.14px;}
#t6_565{left:82px;bottom:841px;letter-spacing:0.1px;word-spacing:0.54px;}
#t7_565{left:82px;bottom:820px;letter-spacing:-0.14px;}
#t8_565{left:137px;bottom:819px;}
#t9_565{left:107px;bottom:783px;}
#ta_565{left:121px;bottom:783px;letter-spacing:0.11px;}
#tb_565{left:152px;bottom:783px;letter-spacing:0.12px;word-spacing:4.34px;}
#tc_565{left:364px;bottom:784px;letter-spacing:-0.14px;}
#td_565{left:391px;bottom:783px;letter-spacing:0.11px;word-spacing:4.34px;}
#te_565{left:585px;bottom:784px;letter-spacing:-0.14px;}
#tf_565{left:630px;bottom:783px;letter-spacing:0.12px;}
#tg_565{left:121px;bottom:761px;letter-spacing:0.11px;}
#th_565{left:107px;bottom:737px;}
#ti_565{left:121px;bottom:737px;letter-spacing:0.11px;}
#tj_565{left:149px;bottom:737px;letter-spacing:0.02px;word-spacing:1.43px;}
#tk_565{left:303px;bottom:737px;letter-spacing:-0.14px;}
#tl_565{left:327px;bottom:737px;letter-spacing:0.1px;word-spacing:1.26px;}
#tm_565{left:526px;bottom:737px;letter-spacing:-0.14px;}
#tn_565{left:544px;bottom:737px;letter-spacing:0.1px;word-spacing:1.26px;}
#to_565{left:121px;bottom:714px;letter-spacing:0.1px;}
#tp_565{left:177px;bottom:715px;letter-spacing:-0.14px;}
#tq_565{left:214px;bottom:714px;}
#tr_565{left:107px;bottom:690px;}
#ts_565{left:121px;bottom:690px;letter-spacing:0.11px;}
#tt_565{left:148px;bottom:690px;letter-spacing:-0.02px;word-spacing:0.98px;}
#tu_565{left:266px;bottom:691px;letter-spacing:-0.14px;}
#tv_565{left:290px;bottom:690px;letter-spacing:0.07px;word-spacing:0.81px;}
#tw_565{left:613px;bottom:691px;letter-spacing:-0.14px;}
#tx_565{left:631px;bottom:690px;letter-spacing:0.09px;word-spacing:0.73px;}
#ty_565{left:121px;bottom:668px;letter-spacing:0.06px;word-spacing:0.47px;}
#tz_565{left:228px;bottom:669px;letter-spacing:-0.14px;}
#t10_565{left:416px;bottom:668px;letter-spacing:0.09px;word-spacing:0.42px;}
#t11_565{left:121px;bottom:646px;letter-spacing:0.1px;word-spacing:-0.01px;}
#t12_565{left:107px;bottom:622px;}
#t13_565{left:121px;bottom:622px;letter-spacing:0.11px;}
#t14_565{left:147px;bottom:622px;letter-spacing:0.14px;}
#t15_565{left:210px;bottom:623px;letter-spacing:-0.14px;}
#t16_565{left:233px;bottom:622px;letter-spacing:0.13px;word-spacing:-0.21px;}
#t17_565{left:303px;bottom:623px;letter-spacing:-0.14px;}
#t18_565{left:358px;bottom:622px;letter-spacing:0.1px;word-spacing:-0.15px;}
#t19_565{left:570px;bottom:623px;letter-spacing:-0.14px;}
#t1a_565{left:607px;bottom:622px;letter-spacing:0.11px;word-spacing:-0.15px;}
#t1b_565{left:121px;bottom:600px;letter-spacing:0.09px;word-spacing:1.06px;}
#t1c_565{left:582px;bottom:600px;letter-spacing:-0.14px;}
#t1d_565{left:624px;bottom:600px;letter-spacing:0.11px;}
#t1e_565{left:669px;bottom:600px;letter-spacing:-0.14px;}
#t1f_565{left:121px;bottom:578px;letter-spacing:0.11px;word-spacing:-0.02px;}
#t1g_565{left:218px;bottom:578px;letter-spacing:-0.14px;}
#t1h_565{left:292px;bottom:578px;}
#t1i_565{left:107px;bottom:554px;}
#t1j_565{left:121px;bottom:554px;letter-spacing:0.11px;}
#t1k_565{left:146px;bottom:554px;letter-spacing:0.11px;word-spacing:-0.94px;}
#t1l_565{left:286px;bottom:554px;letter-spacing:-0.14px;}
#t1m_565{left:326px;bottom:554px;letter-spacing:0.13px;word-spacing:-1px;}
#t1n_565{left:121px;bottom:531px;letter-spacing:0.11px;word-spacing:1.05px;}
#t1o_565{left:476px;bottom:532px;letter-spacing:-0.14px;}
#t1p_565{left:500px;bottom:531px;letter-spacing:0.12px;word-spacing:1.03px;}
#t1q_565{left:121px;bottom:509px;letter-spacing:0.16px;}
#t1r_565{left:156px;bottom:510px;letter-spacing:-0.14px;}
#t1s_565{left:205px;bottom:509px;letter-spacing:0.1px;word-spacing:-0.88px;}
#t1t_565{left:306px;bottom:510px;letter-spacing:-0.14px;}
#t1u_565{left:328px;bottom:509px;letter-spacing:0.09px;word-spacing:-0.85px;}
#t1v_565{left:552px;bottom:510px;letter-spacing:-0.14px;}
#t1w_565{left:592px;bottom:509px;letter-spacing:0.12px;word-spacing:-0.88px;}
#t1x_565{left:121px;bottom:487px;}
#t1y_565{left:133px;bottom:488px;letter-spacing:-0.14px;}
#t1z_565{left:316px;bottom:487px;letter-spacing:0.08px;word-spacing:0.03px;}
#t20_565{left:83px;bottom:451px;letter-spacing:0.1px;word-spacing:3.69px;}
#t21_565{left:83px;bottom:429px;letter-spacing:0.13px;word-spacing:4.17px;}
#t22_565{left:190px;bottom:430px;letter-spacing:-0.14px;}
#t23_565{left:227px;bottom:429px;}
#t24_565{left:240px;bottom:430px;letter-spacing:-0.14px;word-spacing:4.95px;}
#t25_565{left:83px;bottom:408px;letter-spacing:-0.14px;}
#t26_565{left:119px;bottom:407px;letter-spacing:0.09px;word-spacing:-0.71px;}
#t27_565{left:83px;bottom:385px;letter-spacing:0.14px;word-spacing:-0.06px;}
#t28_565{left:83px;bottom:353px;letter-spacing:0.12px;word-spacing:-0.14px;}
#t29_565{left:295px;bottom:353px;letter-spacing:0.1px;}
#t2a_565{left:335px;bottom:353px;letter-spacing:0.11px;word-spacing:-0.12px;}
#t2b_565{left:83px;bottom:331px;letter-spacing:0.09px;word-spacing:-0.09px;}
#t2c_565{left:382px;bottom:332px;letter-spacing:-0.14px;}
#t2d_565{left:428px;bottom:331px;letter-spacing:0.11px;word-spacing:-0.11px;}
#t2e_565{left:83px;bottom:309px;letter-spacing:0.08px;word-spacing:0.05px;}
#t2f_565{left:83px;bottom:278px;letter-spacing:0.06px;word-spacing:1.44px;}
#t2g_565{left:444px;bottom:279px;letter-spacing:-0.14px;}
#t2h_565{left:499px;bottom:278px;letter-spacing:0.05px;word-spacing:1.49px;}
#t2i_565{left:83px;bottom:256px;letter-spacing:0.11px;word-spacing:1.88px;}
#t2j_565{left:83px;bottom:234px;letter-spacing:0.11px;word-spacing:-0.02px;}
#t2k_565{left:83px;bottom:202px;letter-spacing:0.09px;word-spacing:-0.11px;}
#t2l_565{left:83px;bottom:180px;letter-spacing:0.08px;word-spacing:1.45px;}
#t2m_565{left:83px;bottom:158px;letter-spacing:0.11px;word-spacing:0.33px;}
#t2n_565{left:83px;bottom:136px;letter-spacing:0.1px;}
#t2o_565{left:401px;bottom:137px;letter-spacing:-0.14px;}
#t2p_565{left:438px;bottom:136px;letter-spacing:0.08px;}
#t2q_565{left:97px;bottom:44px;letter-spacing:-0.2px;word-spacing:0.05px;}

.s1_565{font-size:15px;font-family:LinLibertine_2g8;color:#000;}
.s2_565{font-size:18px;font-family:LinLibertine_2g8;color:#000;}
.s3_565{font-size:17px;font-family:AnonymousPro_2gm;color:#000;}
.s4_565{font-size:18px;font-family:LinLibertineB_2gc;color:#000;}
.s5_565{font-size:18px;font-family:LinLibertineI_2gj;color:#000;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts565" type="text/css" >

@font-face {
	font-family: AnonymousPro_2gm;
	src: url("fonts/AnonymousPro_2gm.woff") format("woff");
}

@font-face {
	font-family: LinLibertineB_2gc;
	src: url("fonts/LinLibertineB_2gc.woff") format("woff");
}

@font-face {
	font-family: LinLibertineI_2gj;
	src: url("fonts/LinLibertineI_2gj.woff") format("woff");
}

@font-face {
	font-family: LinLibertine_2g8;
	src: url("fonts/LinLibertine_2g8.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg565Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg565" style="-webkit-user-select: none;"><object width="770" height="1001" data="565/565.svg" type="image/svg+xml" id="pdf565" style="width:770px; height:1001px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div id="t1_565" class="t s1_565">Appendix B: Java Interoperability</div>
<div id="t2_565" class="t s2_565">557</div>
<div id="t3_565" class="t s2_565">When you call a Java method like</div>
<div id="t4_565" class="t s3_565">JTool.get()</div>
<div id="t5_565" class="t s2_565">inside Kotlin, its return value (unless</div>
<div id="t6_565" class="t s2_565">annotated as explained in the next section) is a platform type, which in this case is</div>
<div id="t7_565" class="t s3_565">JTool!</div>
<div id="t8_565" class="t s2_565">.</div>
<div id="t9_565" class="t s2_565">•</div>
<div id="ta_565" class="t s4_565">[1]</div>
<div id="tb_565" class="t s2_565">At the point of definition,</div>
<div id="tc_565" class="t s3_565">xn</div>
<div id="td_565" class="t s2_565">successfully receives the</div>
<div id="te_565" class="t s3_565">null</div>
<div id="tf_565" class="t s2_565">without</div>
<div id="tg_565" class="t s2_565">complaint.</div>
<div id="th_565" class="t s2_565">•</div>
<div id="ti_565" class="t s4_565">[2]</div>
<div id="tj_565" class="t s2_565">You can dereference</div>
<div id="tk_565" class="t s3_565">xn</div>
<div id="tl_565" class="t s2_565">by using a safe-access call</div>
<div id="tm_565" class="t s3_565">?.</div>
<div id="tn_565" class="t s2_565">, which in this case</div>
<div id="to_565" class="t s2_565">returns</div>
<div id="tp_565" class="t s3_565">null</div>
<div id="tq_565" class="t s2_565">.</div>
<div id="tr_565" class="t s2_565">•</div>
<div id="ts_565" class="t s4_565">[3]</div>
<div id="tt_565" class="t s2_565">However, using</div>
<div id="tu_565" class="t s3_565">?.</div>
<div id="tv_565" class="t s2_565">is not required. You can simply dereference</div>
<div id="tw_565" class="t s3_565">xn</div>
<div id="tx_565" class="t s2_565">. In this</div>
<div id="ty_565" class="t s2_565">case you get a</div>
<div id="tz_565" class="t s3_565">NullPointerException</div>
<div id="t10_565" class="t s2_565">without any helpful message, as with</div>
<div id="t11_565" class="t s2_565">Java and other languages that lack support for nullable types.</div>
<div id="t12_565" class="t s2_565">•</div>
<div id="t13_565" class="t s4_565">[4]</div>
<div id="t14_565" class="t s2_565">Because</div>
<div id="t15_565" class="t s3_565">yn</div>
<div id="t16_565" class="t s2_565">is of type</div>
<div id="t17_565" class="t s3_565">JTool?</div>
<div id="t18_565" class="t s2_565">, it can successfully receive a</div>
<div id="t19_565" class="t s3_565">null</div>
<div id="t1a_565" class="t s2_565">. Assigning</div>
<div id="t1b_565" class="t s2_565">to a nullable type is safe, because Kotlin forces you to test for</div>
<div id="t1c_565" class="t s3_565">null</div>
<div id="t1d_565" class="t s2_565">using</div>
<div id="t1e_565" class="t s3_565">?.</div>
<div id="t1f_565" class="t s2_565">when calling</div>
<div id="t1g_565" class="t s3_565">method()</div>
<div id="t1h_565" class="t s2_565">.</div>
<div id="t1i_565" class="t s2_565">•</div>
<div id="t1j_565" class="t s4_565">[5]</div>
<div id="t1k_565" class="t s2_565">Assigning to a non-</div>
<div id="t1l_565" class="t s3_565">null</div>
<div id="t1m_565" class="t s2_565">type can produce an NPE. Kotlin checks for nullity</div>
<div id="t1n_565" class="t s2_565">at the point of assignment. The initialization of</div>
<div id="t1o_565" class="t s3_565">zn</div>
<div id="t1p_565" class="t s2_565">fails because the declared</div>
<div id="t1q_565" class="t s2_565">type</div>
<div id="t1r_565" class="t s3_565">JTool</div>
<div id="t1s_565" class="t s2_565">promises that</div>
<div id="t1t_565" class="t s3_565">zn</div>
<div id="t1u_565" class="t s2_565">is not nullable, but it receives a</div>
<div id="t1v_565" class="t s3_565">null</div>
<div id="t1w_565" class="t s2_565">and produces</div>
<div id="t1x_565" class="t s2_565">a</div>
<div id="t1y_565" class="t s3_565">NullPointerException</div>
<div id="t1z_565" class="t s2_565">, but with a helpful message this time.</div>
<div id="t20_565" class="t s2_565">The exception message contains detailed information about the expression that</div>
<div id="t21_565" class="t s2_565">produced the</div>
<div id="t22_565" class="t s3_565">null</div>
<div id="t23_565" class="t s2_565">:</div>
<div id="t24_565" class="t s3_565">NullPointerException: JTool.get(null) must not be</div>
<div id="t25_565" class="t s3_565">null</div>
<div id="t26_565" class="t s2_565">. Even though it’s a runtime exception, the comprehensive error message makes</div>
<div id="t27_565" class="t s2_565">the problem much easier than fixing a regular NPE.</div>
<div id="t28_565" class="t s2_565">A platform type contains the</div>
<div id="t29_565" class="t s5_565">least</div>
<div id="t2a_565" class="t s2_565">amount of information available for that type. In</div>
<div id="t2b_565" class="t s2_565">this case, it only tells you that the type is</div>
<div id="t2c_565" class="t s3_565">JTool</div>
<div id="t2d_565" class="t s2_565">. It might or might not be nullable—</div>
<div id="t2e_565" class="t s2_565">when using an inferred platform type you simply don’t know.</div>
<div id="t2f_565" class="t s2_565">You can’t explicitly declare a platform type (e.g.</div>
<div id="t2g_565" class="t s3_565">JTool!</div>
<div id="t2h_565" class="t s2_565">). You can only observe a</div>
<div id="t2i_565" class="t s2_565">platform type in error messages, or when you display the inferred type as in the</div>
<div id="t2j_565" class="t s2_565">example above, or by checking the type within the IDE.</div>
<div id="t2k_565" class="t s2_565">Platform types provide seamless Java interoperability, and maintain the consistency</div>
<div id="t2l_565" class="t s2_565">of type inference. However, don’t rely on them. The proper strategy when calling</div>
<div id="t2m_565" class="t s2_565">un-annotated Java code is to avoid type inference, and instead understand whether</div>
<div id="t2n_565" class="t s2_565">or not the code you are calling can produce</div>
<div id="t2o_565" class="t s3_565">null</div>
<div id="t2p_565" class="t s2_565">s.</div>
<div id="t2q_565" class="t s1_565">Atomic Kotlin (www.AtomicKotlin.com) by Bruce Eckel &amp; Svetlana Isakova, ©2020 MindView LLC</div>

<!-- End text definitions -->


</div>
</body>
</html>
